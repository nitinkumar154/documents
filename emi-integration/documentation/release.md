## Release Update - 12 September, 2017

### emi-integration service
---
#### Overview
- Commit Id: 8043aac8abcfca8b876afcbf76b6bd31a81bdef4
- Branch: master
- Integration module: Involves in master file synchronization from bajaj ftp server with ftp server.
- Jobs: Responsible for data movement from master scheme files to core database.
- Core data movement: Data are normalised and saved in innoviti tables for use of jpos.

#### Bugs and Improvements
- Integration module syncs files which are freshly added or with modified content/filename in SFTP server.
- Optimised jobs which run once daily for any scheme changes in below 14 files.

| Interfaces                   | FileNames                    | Bajaj Master tables     |
| ---------------------------- |:----------------------------:| -----------------------:|
| Scheme Master                | SCHM-00059-DDMMYY-HHMISS.TXT | scheme_bfl              |
| Manufacturer Master          | MNFM-00059-DDMMYY-HHMISS.TXT | manufacturer_bfl        |
| Asset Category Master        | ASTM-00059-DDMMYY-HHMISS.TXT | asset_category_bfl      |
| Model Master                 | MDLM-00059-DDMMYY-HHMISS.TXT | model_master_bfl        |
| Dealer Master                | DLRM-00059-DDMMYY-HHMISS.TXT | dealer_bfl              |
| Branch Master                | BRNM-00059-DDMMYY-HHMISS.TXT | branch_bfl              |
| City Master                  | CITM-00059-DDMMYY-HHMISS.TXT | city_bfl                |
| State Master                 | STAM-00059-DDMMYY-HHMISS.TXT | state_bfl               |
| Dealer Manufacturer Mapping  | DMFM-00059-DDMMYY-HHMISS.TXT | dealer_manufacturer_bfl |
| Scheme Dealer Mapping        | SHDM-00059-DDMMYY-HHMISS.TXT | scheme_dealer_bfl       |
| Scheme Model Mapping         | SHMM-00059-DDMMYY-HHMISS.TXT | scheme_model_bfl        |
| Dealer Product Mapping       | DPRM-00059-DDMMYY-HHMISS.TXT | dealer_product_bfl      |
| Scheme Branch Mapping        | SHBM-00059-DDMMYY-HHMISS.TXT | scheme_branch_bfl       |
| Model Product Mapping        | MPRM-00059-DDMMYY-HHMISS.TXT | model_product_bfl       |

- Data filled in bfl master tables are again processed to move into core tables.

#### End-User Impact
Below listed modules are directly accessible by end users for daily processes.
- ```http://hostname:port/emi-integration-api/jobs/getList``` is used on daily basis for fetching list of files and their UUID for further batch processing.
- ```http://hostname:port/emi-integration-api/jobs/master/launch``` is used after above step to start batch processing of 14 files.

#### Notes
- This service is being supported by [object-store](http://192.168.0.21/platform/object-store-service) service.
- ```{project-root-dir}/config/config.properties``` file is configured properly prior to running the service and it's use.
- [Reference](http://192.168.0.21/platform/emi-integration/blob/master/documentation/innoviti-core-schema/mysql-workbench-schema/unipaynext-emi-model-v1.3.mwb) for schema for ```emi_integration```.
- emi-integration service needs emi_integration database in mysql server and the same is configured in mentioned property file.

### object-store service
---

#### Overview
- Commit Id: 71e02c348f3d518537a252e9b9a920042b07ab69
- Branch: master
- A generic service used for file handling which supports file upload, download, display list of files specific to user and last modified in optimised way in terms of time and space.
- Currently all bajaj master files from sftp server are synced with object store service and further those are used for batch processing by emi-integration-api.
- After batch processing response files generated by emi-integration service are uploaded to object-store-service and sftp server.

#### Bugs and Improvements
- Handled multiple uploads of same file with different usernames to consume constant space.
- Feature support for listing files according to file types and user names.
- Filenames are stored as part of metadata in mongo database server.

#### Notes
- [Refer here ](http://192.168.0.21/platform/object-store-service/blob/master/docs/reference.md) for list of APIs supported by object-store-service.
- [Deployment Guide](http://192.168.0.21/platform/object-store-service/blob/master/README.md) for object store service.
- This requires mongo server as data store with specified configuration in deployment guide.

### uniPAYNEXT_Portal
---
